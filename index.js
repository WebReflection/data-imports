((i,m,p,o,r,t,s)=>{for(r of i.dataset.imports.split(/[,; \n\r]/)){if(r=r.trim()){[t,...s]=r.split('!');m[t]=`https://${s.length?o:p}/`+t+s.join('!')}}i.replaceWith(Object.assign(document.createElement('script'),{type:'importmap',textContent:JSON.stringify({imports:m})}))})(document.currentScript,{},'esm.run','cdn.jsdelivr.net/npm')